{"version":3,"file":"_page.svelte-24df147c.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/channels/_id_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as subscribe, b as add_attribute, i as set_store_value, v as validate_component, e as escape, h as each } from \"../../../../../chunks/index2.js\";\nimport { u as user } from \"../../../../../chunks/user.js\";\nimport { p as page } from \"../../../../../chunks/stores.js\";\nimport { c as chatSocket } from \"../../../../../chunks/chat-socket.js\";\nimport { L as Loading } from \"../../../../../chunks/Loading.js\";\nimport { c as chatMessages } from \"../../../../../chunks/chat-messages.js\";\nconst ModalPasswordChannels = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_chatSocket;\n  $$unsubscribe_chatSocket = subscribe(chatSocket, (value) => value);\n  let { closeModal } = $$props;\n  let { roomId } = $$props;\n  let password;\n  if ($$props.closeModal === void 0 && $$bindings.closeModal && closeModal !== void 0)\n    $$bindings.closeModal(closeModal);\n  if ($$props.roomId === void 0 && $$bindings.roomId && roomId !== void 0)\n    $$bindings.roomId(roomId);\n  $$unsubscribe_chatSocket();\n  return `<dialog open><article><h3>Enter password :</h3>\n\t\t<input type=\"${\"text\"}\"${add_attribute(\"value\", password, 0)}>\n\t\t${``}\n\t  <footer><a href=\"${\"/channels\"}\" role=\"${\"button\"}\" class=\"${\"secondary\"}\">Cancel</a>\n\t\t<a href=\"${\" \"}\" role=\"${\"button\"}\">Confirm</a></footer></article></dialog>`;\n});\nconst ModalChannelSettings_svelte_svelte_type_style_lang = \"\";\nconst ChatModal_svelte_svelte_type_style_lang = \"\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"header.svelte-19bvman.svelte-19bvman{padding:1rem;display:flex;align-items:center;justify-content:space-between;gap:3rem}header.svelte-19bvman h3.svelte-19bvman{margin-bottom:0}header.svelte-19bvman>.svelte-19bvman:first-child{display:flex;align-items:center;gap:0.5rem}header.svelte-19bvman>.svelte-19bvman:last-child{display:flex;align-items:center;justify-content:flex-end;gap:1rem}header.svelte-19bvman iconify-icon.svelte-19bvman:hover{cursor:pointer;transform:scale(1.05)}article.svelte-19bvman.svelte-19bvman{height:80vh;display:flex;flex-direction:column;margin:auto}footer.svelte-19bvman div.svelte-19bvman{display:flex;align-items:center}footer.svelte-19bvman iconify-icon.svelte-19bvman{position:absolute;padding-left:1rem}ul.svelte-19bvman li.svelte-19bvman{list-style:none}.ul-users-list.svelte-19bvman li.svelte-19bvman{display:flex;align-items:center;gap:1rem;cursor:pointer}.ul-users-list.svelte-19bvman li.svelte-19bvman:hover{text-decoration:underline}.ul-users-list.svelte-19bvman li:hover iconify-icon.svelte-19bvman{transform:scale(1.05)}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $user, $$unsubscribe_user;\n  let $chatSocket, $$unsubscribe_chatSocket;\n  let $chatMessages, $$unsubscribe_chatMessages;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_user = subscribe(user, (value) => $user = value);\n  $$unsubscribe_chatSocket = subscribe(chatSocket, (value) => $chatSocket = value);\n  $$unsubscribe_chatMessages = subscribe(chatMessages, (value) => $chatMessages = value);\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let input = \"\";\n  let element;\n  const channelId = $page.url.href.split(\"/\").pop();\n  let roomName;\n  let isLoading = true;\n  let showPasswordModal = true;\n  let connectedUser;\n  if (!$chatMessages[channelId])\n    set_store_value(chatMessages, $chatMessages[channelId] = [], $chatMessages);\n  $chatSocket.emit(\"verifyUser\", channelId, (info) => {\n    if (info.isConnected)\n      showPasswordModal = false;\n    else\n      showPasswordModal = true;\n    roomName = info.roomName;\n    info.isAdmin;\n    isLoading = false;\n    connectedUser = info.connectedUser;\n  });\n  $chatSocket.on(\"updateConnectedUsers\", (info) => {\n    connectedUser = info;\n    connectedUser = connectedUser;\n  });\n  $$result.css.add(css);\n  $$unsubscribe_user();\n  $$unsubscribe_chatSocket();\n  $$unsubscribe_chatMessages();\n  $$unsubscribe_page();\n  return `${isLoading ? `${validate_component(Loading, \"Loading\").$$render($$result, {}, {}, {})}` : `${showPasswordModal ? `${validate_component(ModalPasswordChannels, \"ModalPasswordChannels\").$$render(\n    $$result,\n    {\n      closeModal: () => showPasswordModal = false,\n      roomId: channelId\n    },\n    {},\n    {}\n  )}` : `<article class=\"${\"svelte-19bvman\"}\"><header class=\"${\"svelte-19bvman\"}\"><div class=\"${\"svelte-19bvman\"}\">${connectedUser.owner === $user.profile?.username ? `<iconify-icon icon=\"${\"material-symbols:settings-outline\"}\" style=\"${\"font-size: 1.8rem\"}\" class=\"${\"svelte-19bvman\"}\"></iconify-icon>` : ``}\n\t\t\t<h3 class=\"${\"safe-words svelte-19bvman\"}\">Channel ${escape(roomName)}</h3></div>\n\t\t<div class=\"${\"svelte-19bvman\"}\">${`<iconify-icon icon=\"${\"mdi:users-group\"}\" style=\"${\"font-size: 2rem\"}\" class=\"${\"svelte-19bvman\"}\"></iconify-icon>`}\n\t\t\t<iconify-icon icon=\"${\"pepicons-pop:leave\"}\" style=\"${\"font-size: 1.8rem\"}\" class=\"${\"svelte-19bvman\"}\"></iconify-icon></div></header>\n\n\t${`<body style=\"${\"overflow: auto;\"}\"${add_attribute(\"this\", element, 0)}><ul class=\"${\"svelte-19bvman\"}\"><li class=\"${\"svelte-19bvman\"}\"><span style=\"${\"color: #9F2B68\"}\">System</span> : Welcome to the channel ${escape($user.profile?.username)} !\n\t\t\t\t</li>\n\t\t\t\t${each($chatMessages[channelId], (userInfo) => {\n    return `<li class=\"${\"svelte-19bvman\"}\">\n\t\t\t\t\t\t\t${userInfo.username !== $user.profile?.username ? `<span style=\"${\"color: #FEA347;\"}\">${escape(userInfo.username)}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>` : `<span style=\"${\"color: #FEA347; text-decoration: underline;\"}\">\n\t\t\t\t\t\t\t\t${escape(userInfo.username)}\n\t\t\t\t\t\t\t</span>`}\n\t\t\t\t\t\t: ${escape(userInfo.message)}\n\t\t\t\t\t</li>`;\n  })}</ul></body>\n\t\t<footer style=\"${\"margin-top:auto\"}\" class=\"${\"svelte-19bvman\"}\"><div class=\"${\"svelte-19bvman\"}\"><input type=\"${\"text\"}\" style=\"${\"margin: 0;margin-right: 1rem;text-indent: 2rem;\"}\"${add_attribute(\"value\", input, 0)}>\n\t\t\t\t<iconify-icon icon=\"${\"ic:baseline-send\"}\" style=\"${\"font-size: 1.5rem;\"}\" class=\"${\"svelte-19bvman\"}\"></iconify-icon></div></footer>`}</article>`}`}\n\n${``}\n\n${``}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}