{"version":3,"file":"_page.svelte-a850a548.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/channels/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as subscribe, h as each, e as escape } from \"../../../../chunks/index2.js\";\nimport { u as user } from \"../../../../chunks/user.js\";\nimport { c as chatSocket } from \"../../../../chunks/chat-socket.js\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"h3.svelte-1d4p513.svelte-1d4p513{margin-bottom:0}ul.svelte-1d4p513.svelte-1d4p513{padding:0;background-color:#090D10;padding:0.5rem 1rem 0.5rem 0.5rem;border-radius:0 0 5px 5px}ul.svelte-1d4p513>li.svelte-1d4p513{background-color:var(--background-color);list-style-type:none;padding:0.5rem 1rem;display:flex;justify-content:space-between;align-items:center}ul.svelte-1d4p513>li button.svelte-1d4p513{width:auto;height:auto;padding:0.3rem;display:flex;justify-content:center;align-items:center;margin-bottom:0}iconify-icon.svelte-1d4p513.svelte-1d4p513{font-size:1.3rem}.channel-right.svelte-1d4p513.svelte-1d4p513{display:flex;align-items:center;gap:1rem}.channel-left.svelte-1d4p513.svelte-1d4p513{display:flex;align-items:center}.users.svelte-1d4p513.svelte-1d4p513{display:flex;justify-content:space-between;align-items:center;width:5.5rem}.channel-name.svelte-1d4p513.svelte-1d4p513{margin-left:1.5rem;display:flex;flex-direction:column}\",\n  map: null\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_chatSocket;\n  let $user, $$unsubscribe_user;\n  $$unsubscribe_chatSocket = subscribe(chatSocket, (value) => value);\n  $$unsubscribe_user = subscribe(user, (value) => $user = value);\n  let rooms = [];\n  let joinedRooms = [];\n  function getJoinedRooms(rooms2) {\n    return rooms2.filter((room) => {\n      if ($user.id === room.owner || room.admins.indexOf($user.id) !== -1 || room.member.indexOf($user.id) !== -1) {\n        return true;\n      }\n      return false;\n    });\n  }\n  function roomIsJoined(room) {\n    for (let i = 0; i < joinedRooms.length; i++) {\n      if (joinedRooms[i].id === room.id) {\n        return true;\n      }\n    }\n    return false;\n  }\n  $$result.css.add(css);\n  joinedRooms = getJoinedRooms(rooms);\n  $$unsubscribe_chatSocket();\n  $$unsubscribe_user();\n  return `<section><a href=\"${\"/channels/create\"}\" role=\"${\"button\"}\" style=\"${\"width: 100%;\"}\">Create your channel</a></section>\n\n<section><h3 class=\"${\"svelte-1d4p513\"}\">Joined channels</h3>\n\t<ul class=\"${\"svelte-1d4p513\"}\">${each(joinedRooms, (room) => {\n    return `<li class=\"${\"svelte-1d4p513\"}\"><div class=\"${\"channel-left svelte-1d4p513\"}\"><div class=\"${\"users svelte-1d4p513\"}\"><span>${escape(room.member.length + room.admins.length + 1)} / ${escape(room.capacity)}</span>\n\t\t\t\t\t\t<iconify-icon icon=\"${\"fa-solid:user-friends\"}\" class=\"${\"svelte-1d4p513\"}\"></iconify-icon></div>\n\t\t\t\t\t<div class=\"${\"channel-name svelte-1d4p513\"}\">${escape(room.name)}\n\t\t\t\t\t\t<small><i>${escape(room.ownerProfile.username)}</i></small>\n\t\t\t\t\t</div></div>\n\t\t\t\t<div class=\"${\"channel-right svelte-1d4p513\"}\">${room.member.length + room.admins.length + 1 >= room.capacity ? `<p>room filled</p>` : `<button class=\"${\"secondary svelte-1d4p513\"}\"><iconify-icon icon=\"${\"material-symbols:open-in-browser\"}\" class=\"${\"svelte-1d4p513\"}\"></iconify-icon>\n\t\t\t\t\t\t</button>`}</div>\n\t\t\t</li>`;\n  })}</ul></section>\n\n<section><h3 class=\"${\"svelte-1d4p513\"}\">Channels</h3>\n\t<ul class=\"${\"svelte-1d4p513\"}\">${each(rooms, (room) => {\n    return `${!roomIsJoined(room) ? `<li class=\"${\"svelte-1d4p513\"}\"><div class=\"${\"channel-left svelte-1d4p513\"}\"><div class=\"${\"users svelte-1d4p513\"}\"><span>${escape(room.member.length + room.admins.length + 1)} / ${escape(room.capacity)}</span>\n\t\t\t\t\t\t\t<iconify-icon icon=\"${\"fa-solid:user-friends\"}\" class=\"${\"svelte-1d4p513\"}\"></iconify-icon></div>\n\t\t\t\t\t\t<div class=\"${\"channel-name svelte-1d4p513\"}\">${escape(room.name)}\n\t\t\t\t\t\t\t<small><i>${escape(room.ownerProfile.username)}</i></small>\n\t\t\t\t\t\t</div></div>\n\t\t\t\t\t<div class=\"${\"channel-right svelte-1d4p513\"}\">${room.member.length + room.admins.length + 1 >= room.capacity ? `<p>room filled</p>` : `${room.isProtected ? `<iconify-icon icon=\"${\"material-symbols:lock\"}\" style=\"${\"font-size: 1.5rem;\"}\" class=\"${\"svelte-1d4p513\"}\"></iconify-icon>\n\t\t\t\t\t\t\t<button class=\"${\"secondary svelte-1d4p513\"}\"><iconify-icon icon=\"${\"material-symbols:open-in-browser\"}\" class=\"${\"svelte-1d4p513\"}\"></iconify-icon>\n\t\t\t\t\t\t\t</button>` : `<button class=\"${\"secondary svelte-1d4p513\"}\"><iconify-icon icon=\"${\"material-symbols:open-in-browser\"}\" class=\"${\"svelte-1d4p513\"}\"></iconify-icon>\n\t\t\t\t\t\t\t</button>`}`}</div>\n\t\t\t\t\t${``}\n\t\t\t\t</li>` : ``}`;\n  })}</ul>\n</section>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}