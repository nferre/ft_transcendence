import{S as Se,i as Ue,s as De,k as o,r as j,a as q,l as c,m as u,u as J,h as a,c as O,p as f,D as x,q as H,b as L,E as n,F as be,G as W,n as ye,T as ke,H as Ae,I as Ee,v as ie,P as Ie,R as le,J as ge}from"../chunks/index.85b3f724.js";import{d as Fe,s as Ve,r as Be,h as Ge,j as Pe}from"../chunks/index.d8d2a718.js";import{f as Ne}from"../chunks/friends.b57e3a7f.js";function ze(t,e,l){const r=t.slice();return r[14]=e[l],r}function Ce(t,e,l){const r=t.slice();return r[17]=e[l],r}function qe(t){let e,l;return{c(){e=o("span"),l=j(t[2]),this.h()},l(r){e=c(r,"SPAN",{class:!0});var h=u(e);l=J(h,t[2]),h.forEach(a),this.h()},h(){f(e,"class","error svelte-6zytsb")},m(r,h){L(r,e,h),n(e,l)},p(r,h){h&4&&ie(l,r[2])},d(r){r&&a(e)}}}function Oe(t){let e;return{c(){e=o("iconify-icon"),this.h()},l(l){e=c(l,"ICONIFY-ICON",{icon:!0,style:!0}),u(e).forEach(a),this.h()},h(){x(e,"icon","mdi:sword-fight"),H(e,"font-size","2rem")},m(l,r){L(l,e,r)},d(l){l&&a(e)}}}function Te(t){let e,l,r,h,g,_,z,m,C,T,E=t[17].profile.username+"",y,k,R,b,F,d,G,P,p=t[17].isInGame&&Oe();function w(){return t[9](t[17])}return{c(){e=o("li"),l=o("a"),r=o("div"),h=o("div"),g=q(),_=o("img"),m=q(),p&&p.c(),C=q(),T=o("span"),y=j(E),R=q(),b=o("button"),F=o("iconify-icon"),d=q(),this.h()},l(N){e=c(N,"LI",{class:!0});var v=u(e);l=c(v,"A",{href:!0,class:!0});var B=u(l);r=c(B,"DIV",{class:!0});var A=u(r);h=c(A,"DIV",{class:!0}),u(h).forEach(a),g=O(A),_=c(A,"IMG",{src:!0,alt:!0,class:!0}),m=O(A),p&&p.l(A),C=O(A),T=c(A,"SPAN",{});var S=u(T);y=J(S,E),S.forEach(a),A.forEach(a),B.forEach(a),R=O(v),b=c(v,"BUTTON",{style:!0,class:!0});var Y=u(b);F=c(Y,"ICONIFY-ICON",{icon:!0,style:!0}),u(F).forEach(a),Y.forEach(a),d=O(v),v.forEach(a),this.h()},h(){f(h,"class","svelte-6zytsb"),Ie(h,"online",t[17].isConnected),le(_.src,z=t[17].profile.avatar.url)||f(_,"src",z),f(_,"alt","friend"),f(_,"class","svelte-6zytsb"),f(r,"class","friend-profile svelte-6zytsb"),f(l,"href",k=`/profile/${t[17].profile.username}`),f(l,"class","svelte-6zytsb"),x(F,"icon","charm:cross"),H(F,"font-size","1.5rem"),H(b,"background-color","var(--del-color)"),f(b,"class","svelte-6zytsb"),f(e,"class","svelte-6zytsb")},m(N,v){L(N,e,v),n(e,l),n(l,r),n(r,h),n(r,g),n(r,_),n(r,m),p&&p.m(r,null),n(r,C),n(r,T),n(T,y),n(e,R),n(e,b),n(b,F),n(e,d),G||(P=W(b,"click",w),G=!0)},p(N,v){t=N,v&1&&Ie(h,"online",t[17].isConnected),v&1&&!le(_.src,z=t[17].profile.avatar.url)&&f(_,"src",z),t[17].isInGame?p||(p=Oe(),p.c(),p.m(r,C)):p&&(p.d(1),p=null),v&1&&E!==(E=t[17].profile.username+"")&&ie(y,E),v&1&&k!==(k=`/profile/${t[17].profile.username}`)&&f(l,"href",k)},d(N){N&&a(e),p&&p.d(),G=!1,P()}}}function Re(t){let e,l,r,h,g,_,z=t[14].creator.username+"",m,C,T,E,y,k,R,b,F,d,G,P;function p(){return t[10](t[14])}function w(){return t[11](t[14])}return{c(){e=o("li"),l=o("a"),r=o("img"),g=q(),_=o("span"),m=j(z),T=q(),E=o("div"),y=o("button"),k=o("iconify-icon"),R=q(),b=o("button"),F=o("iconify-icon"),d=q(),this.h()},l(N){e=c(N,"LI",{class:!0});var v=u(e);l=c(v,"A",{href:!0,class:!0});var B=u(l);r=c(B,"IMG",{src:!0,alt:!0,class:!0}),g=O(B),_=c(B,"SPAN",{});var A=u(_);m=J(A,z),A.forEach(a),B.forEach(a),T=O(v),E=c(v,"DIV",{class:!0});var S=u(E);y=c(S,"BUTTON",{style:!0,class:!0});var Y=u(y);k=c(Y,"ICONIFY-ICON",{icon:!0,style:!0}),u(k).forEach(a),Y.forEach(a),R=O(S),b=c(S,"BUTTON",{style:!0,class:!0});var X=u(b);F=c(X,"ICONIFY-ICON",{icon:!0,style:!0}),u(F).forEach(a),X.forEach(a),S.forEach(a),d=O(v),v.forEach(a),this.h()},h(){le(r.src,h=t[14].creator.avatar.url)||f(r,"src",h),f(r,"alt","friend-request-creator"),f(r,"class","svelte-6zytsb"),f(l,"href",C=`/profile/${t[14].creator.username}`),f(l,"class","svelte-6zytsb"),x(k,"icon","fluent-mdl2:accept-medium"),H(k,"font-size","1.5rem"),H(y,"background-color","var(--ins-color)"),f(y,"class","svelte-6zytsb"),x(F,"icon","charm:cross"),H(F,"font-size","1.5rem"),H(b,"background-color","var(--del-color)"),f(b,"class","svelte-6zytsb"),f(E,"class","friend-request-buttons svelte-6zytsb"),f(e,"class","svelte-6zytsb")},m(N,v){L(N,e,v),n(e,l),n(l,r),n(l,g),n(l,_),n(_,m),n(e,T),n(e,E),n(E,y),n(y,k),n(E,R),n(E,b),n(b,F),n(e,d),G||(P=[W(y,"click",p),W(b,"click",w)],G=!0)},p(N,v){t=N,v&8&&!le(r.src,h=t[14].creator.avatar.url)&&f(r,"src",h),v&8&&z!==(z=t[14].creator.username+"")&&ie(m,z),v&8&&C!==(C=`/profile/${t[14].creator.username}`)&&f(l,"href",C)},d(N){N&&a(e),G=!1,Ae(P)}}}function Ye(t){let e,l,r,h,g,_,z,m,C,T,E,y,k,R,b,F,d,G,P,p,w,N,v,B,A,S,Y,X,re,K,ne,ae,oe,U=t[2]&&qe(t),Z=t[0],D=[];for(let s=0;s<Z.length;s+=1)D[s]=Te(Ce(t,Z,s));let $=t[3],V=[];for(let s=0;s<$.length;s+=1)V[s]=Re(ze(t,$,s));return{c(){e=o("section"),l=o("h3"),r=j("Add a friend"),h=q(),g=o("div"),_=o("input"),z=q(),m=o("button"),C=o("iconify-icon"),T=q(),U&&U.c(),E=q(),y=o("section"),k=o("div"),R=o("h3"),b=j("Friends"),F=q(),d=o("ul");for(let s=0;s<D.length;s+=1)D[s].c();G=q(),P=o("section"),p=o("div"),w=o("h3"),N=j("Friend requests received"),v=q(),B=o("ul");for(let s=0;s<V.length;s+=1)V[s].c();A=q(),S=o("section"),Y=o("button"),X=j("Add fake friend"),re=q(),K=o("button"),ne=j("Add fake friend request"),this.h()},l(s){e=c(s,"SECTION",{});var I=u(e);l=c(I,"H3",{class:!0});var i=u(l);r=J(i,"Add a friend"),i.forEach(a),h=O(I),g=c(I,"DIV",{class:!0,style:!0});var M=u(g);_=c(M,"INPUT",{type:!0,placeholder:!0}),z=O(M),m=c(M,"BUTTON",{style:!0});var ce=u(m);C=c(ce,"ICONIFY-ICON",{icon:!0,style:!0}),u(C).forEach(a),ce.forEach(a),M.forEach(a),T=O(I),U&&U.l(I),I.forEach(a),E=O(s),y=c(s,"SECTION",{});var ue=u(y);k=c(ue,"DIV",{class:!0});var ee=u(k);R=c(ee,"H3",{class:!0});var fe=u(R);b=J(fe,"Friends"),fe.forEach(a),F=O(ee),d=c(ee,"UL",{class:!0});var de=u(d);for(let Q=0;Q<D.length;Q+=1)D[Q].l(de);de.forEach(a),ee.forEach(a),ue.forEach(a),G=O(s),P=c(s,"SECTION",{});var he=u(P);p=c(he,"DIV",{class:!0});var te=u(p);w=c(te,"H3",{class:!0});var _e=u(w);N=J(_e,"Friend requests received"),_e.forEach(a),v=O(te),B=c(te,"UL",{class:!0});var ve=u(B);for(let Q=0;Q<V.length;Q+=1)V[Q].l(ve);ve.forEach(a),te.forEach(a),he.forEach(a),A=O(s),S=c(s,"SECTION",{});var se=u(S);Y=c(se,"BUTTON",{});var me=u(Y);X=J(me,"Add fake friend"),me.forEach(a),re=O(se),K=c(se,"BUTTON",{style:!0});var pe=u(K);ne=J(pe,"Add fake friend request"),pe.forEach(a),se.forEach(a),this.h()},h(){f(l,"class","svelte-6zytsb"),f(_,"type","text"),f(_,"placeholder","Username"),x(C,"icon","fluent-mdl2:add-friend"),H(C,"font-size","1.5rem"),H(m,"background-color","var(--ins-color)"),H(m,"border","none"),f(g,"class","input-button-container"),H(g,"margin-bottom","-0.5rem"),f(R,"class","svelte-6zytsb"),f(d,"class","svelte-6zytsb"),f(k,"class","list-container bg-light-dark"),f(w,"class","svelte-6zytsb"),f(B,"class","svelte-6zytsb"),f(p,"class","list-container bg-light-dark"),H(K,"margin-bottom","2rem")},m(s,I){L(s,e,I),n(e,l),n(l,r),n(e,h),n(e,g),n(g,_),be(_,t[1]),n(g,z),n(g,m),n(m,C),n(e,T),U&&U.m(e,null),L(s,E,I),L(s,y,I),n(y,k),n(k,R),n(R,b),n(k,F),n(k,d);for(let i=0;i<D.length;i+=1)D[i].m(d,null);L(s,G,I),L(s,P,I),n(P,p),n(p,w),n(w,N),n(p,v),n(p,B);for(let i=0;i<V.length;i+=1)V[i].m(B,null);L(s,A,I),L(s,S,I),n(S,Y),n(Y,X),n(S,re),n(S,K),n(K,ne),ae||(oe=[W(_,"input",t[8]),W(m,"click",t[6]),W(Y,"click",t[4]),W(K,"click",t[5])],ae=!0)},p(s,[I]){if(I&2&&_.value!==s[1]&&be(_,s[1]),s[2]?U?U.p(s,I):(U=qe(s),U.c(),U.m(e,null)):U&&(U.d(1),U=null),I&1){Z=s[0];let i;for(i=0;i<Z.length;i+=1){const M=Ce(s,Z,i);D[i]?D[i].p(M,I):(D[i]=Te(M),D[i].c(),D[i].m(d,null))}for(;i<D.length;i+=1)D[i].d(1);D.length=Z.length}if(I&8){$=s[3];let i;for(i=0;i<$.length;i+=1){const M=ze(s,$,i);V[i]?V[i].p(M,I):(V[i]=Re(M),V[i].c(),V[i].m(B,null))}for(;i<V.length;i+=1)V[i].d(1);V.length=$.length}},i:ye,o:ye,d(s){s&&a(e),U&&U.d(),s&&a(E),s&&a(y),ke(D,s),s&&a(G),s&&a(P),ke(V,s),s&&a(A),s&&a(S),ae=!1,Ae(oe)}}}function He(t){return t.sort((l,r)=>l.isConnected&&r.isConnected?0:l.isConnected?-1:1)}function Le(t,e,l){let r,h;Ee(t,Fe,d=>l(3,r=d)),Ee(t,Ne,d=>l(7,h=d));let g=[],_="",z="";var m=0;function C(){const d={isConnected:m%2===0,isInGame:!1,profile:{username:`fake${m}`,avatar:{url:"https://picsum.photos/200"},wins:m,losses:m}};ge(Ne,h=[...h,d],h),m++}var T=0;function E(){const d={id:m,creator:{username:`fake${T}`,avatar:{url:"https://picsum.photos/200"},wins:m,losses:m}};ge(Fe,r=[...r,d],r),T++}async function y(){try{Ve(_),l(2,z="")}catch(d){l(2,z=d.message)}}function k(){_=this.value,l(1,_)}const R=d=>Be(d.profile.username),b=d=>Ge(d.id),F=d=>Pe(d.id);return t.$$.update=()=>{t.$$.dirty&128&&l(0,g=He(h))},[g,_,z,r,C,E,y,h,k,R,b,F]}class Je extends Se{constructor(e){super(),Ue(this,e,Le,Ye,De,{})}}export{Je as default};
