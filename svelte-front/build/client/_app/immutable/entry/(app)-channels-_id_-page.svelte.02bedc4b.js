import{S as ye,i as Ee,s as Ie,k as E,r as R,a as T,l as I,m as C,u as j,h as p,c as F,p as O,q as Y,b as B,E as f,F as pe,G as U,X as Ge,n as H,H as X,I as x,e as ke,w as me,d as W,f as de,g as G,o as He,V as Ve,U as K,R as Oe,v as ee,z as ne,A as re,B as oe,C as ae,J as We,j as Je,x as Xe,D as q,T as ge,W as be}from"../chunks/index.85b3f724.js";import{u as we}from"../chunks/user.718f5da3.js";import{p as Ke}from"../chunks/stores.0b96371b.js";import{g as ze}from"../chunks/navigation.ea62138f.js";import{c as Ce}from"../chunks/chat-socket.daf3aa34.js";import{L as qe}from"../chunks/Loading.f8d20241.js";import{M as Qe}from"../chunks/ModalPasswordChannels.effa4d98.js";import{c as Ze,s as $e,k as xe,u as et}from"../chunks/index.d8d2a718.js";import{f as tt}from"../chunks/friends.b57e3a7f.js";import{s as lt}from"../chunks/sendGameRequest.3987f4d2.js";import{c as Se}from"../chunks/chat-messages.fa256c8c.js";function st(s){let e,t,l,n,r,c,k,i,_,u,o,a,h,b,v,m,d,S,y,L,M,w,g,P,A,z,J,D,Q,se,ie;return{c(){e=E("dialog"),t=E("article"),l=E("h3"),n=R("Channel settings"),r=T(),c=E("span"),k=R("Change password :"),i=T(),_=E("input"),u=T(),o=E("small"),a=R("Change the password of the room, leave empty for none"),h=T(),b=E("fieldset"),v=E("label"),m=E("input"),d=R(`
			  Private
			  `),S=E("small"),y=R("Private rooms will not appear in the listing"),L=T(),M=E("footer"),w=E("a"),g=R("Leave Room"),P=T(),A=E("a"),z=R("Cancel"),J=T(),D=E("a"),Q=R("Confirm"),this.h()},l(Z){e=I(Z,"DIALOG",{});var $=C(e);t=I($,"ARTICLE",{});var V=C(t);l=I(V,"H3",{});var ce=C(l);n=j(ce,"Channel settings"),ce.forEach(p),r=F(V),c=I(V,"SPAN",{});var fe=C(c);k=j(fe,"Change password :"),fe.forEach(p),i=F(V),_=I(V,"INPUT",{type:!0}),u=F(V),o=I(V,"SMALL",{});var ue=C(o);a=j(ue,"Change the password of the room, leave empty for none"),ue.forEach(p),h=F(V),b=I(V,"FIELDSET",{});var he=C(b);v=I(he,"LABEL",{for:!0});var le=C(v);m=I(le,"INPUT",{type:!0,id:!0,name:!0,role:!0}),d=j(le,`
			  Private
			  `),S=I(le,"SMALL",{style:!0});var _e=C(S);y=j(_e,"Private rooms will not appear in the listing"),_e.forEach(p),le.forEach(p),he.forEach(p),L=F(V),M=I(V,"FOOTER",{class:!0});var te=C(M);w=I(te,"A",{href:!0,role:!0,id:!0,class:!0});var ve=C(w);g=j(ve,"Leave Room"),ve.forEach(p),P=F(te),A=I(te,"A",{href:!0,role:!0,class:!0,id:!0});var N=C(A);z=j(N,"Cancel"),N.forEach(p),J=F(te),D=I(te,"A",{href:!0,role:!0,id:!0,class:!0});var Ne=C(D);Q=j(Ne,"Confirm"),Ne.forEach(p),te.forEach(p),V.forEach(p),$.forEach(p),this.h()},h(){O(_,"type","text"),O(m,"type","checkbox"),O(m,"id","switch"),O(m,"name","switch"),O(m,"role","switch"),Y(S,"padding-top","0.5rem"),Y(S,"margin","0"),O(v,"for","switch"),O(w,"href","/channels"),O(w,"role","button"),O(w,"id","leave"),O(w,"class","svelte-1xc9cjy"),O(A,"href"," "),O(A,"role","button"),O(A,"class","secondary svelte-1xc9cjy"),O(A,"id","move"),O(D,"href"," "),O(D,"role","button"),O(D,"id","move"),O(D,"class","svelte-1xc9cjy"),O(M,"class","svelte-1xc9cjy"),e.open=!0},m(Z,$){B(Z,e,$),f(e,t),f(t,l),f(l,n),f(t,r),f(t,c),f(c,k),f(t,i),f(t,_),pe(_,s[1]),f(t,u),f(t,o),f(o,a),f(t,h),f(t,b),f(b,v),f(v,m),m.checked=s[2],f(v,d),f(v,S),f(S,y),f(t,L),f(t,M),f(M,w),f(w,g),f(M,P),f(M,A),f(A,z),f(M,J),f(M,D),f(D,Q),se||(ie=[U(_,"input",s[6]),U(m,"change",s[7]),U(w,"click",s[4]),U(A,"click",function(){Ge(s[0])&&s[0].apply(this,arguments)}),U(D,"click",s[3])],se=!0)},p(Z,[$]){s=Z,$&2&&_.value!==s[1]&&pe(_,s[1]),$&4&&(m.checked=s[2])},i:H,o:H,d(Z){Z&&p(e),se=!1,X(ie)}}}function nt(s,e,t){let l,n;x(s,we,h=>t(8,l=h)),x(s,Ce,h=>t(9,n=h));let{closeModal:r}=e,{channelId:c}=e,k="",i;n.emit("getRoomScope",c,h=>{t(2,i=!h)});function _(){n.emit("roomUpdate",c,i,k),r()}function u(){n.emit("leaveRoom",c,l.id),r()}function o(){k=this.value,t(1,k)}function a(){i=this.checked,t(2,i)}return s.$$set=h=>{"closeModal"in h&&t(0,r=h.closeModal),"channelId"in h&&t(5,c=h.channelId)},[r,k,i,_,u,c,o,a]}class rt extends ye{constructor(e){super(),Ee(this,e,nt,st,Ie,{closeModal:0,channelId:5})}}function ot(s){let e,t,l,n,r,c,k,i=s[3].username+"",_,u,o,a,h=s[3].username!==s[6].profile.username&&Le(s);return{c(){e=E("dialog"),t=E("article"),l=E("header"),n=E("img"),c=T(),k=E("span"),_=R(i),u=T(),h&&h.c(),this.h()},l(b){e=I(b,"DIALOG",{});var v=C(e);t=I(v,"ARTICLE",{id:!0,class:!0});var m=C(t);l=I(m,"HEADER",{class:!0});var d=C(l);n=I(d,"IMG",{src:!0,alt:!0,class:!0}),c=F(d),k=I(d,"SPAN",{class:!0});var S=C(k);_=j(S,i),S.forEach(p),d.forEach(p),u=F(m),h&&h.l(m),m.forEach(p),v.forEach(p),this.h()},h(){Oe(n.src,r=s[3].avatar.url)||O(n,"src",r),O(n,"alt","avatar"),O(n,"class","svelte-je56fl"),O(k,"class","safe-words"),O(l,"class","svelte-je56fl"),O(t,"id","chat-modal"),O(t,"class","svelte-je56fl"),e.open=!0},m(b,v){B(b,e,v),f(e,t),f(t,l),f(l,n),f(l,c),f(l,k),f(k,_),f(t,u),h&&h.m(t,null),o||(a=[U(l,"click",s[12]),U(l,"keypress",s[11])],o=!0)},p(b,v){v&8&&!Oe(n.src,r=b[3].avatar.url)&&O(n,"src",r),v&8&&i!==(i=b[3].username+"")&&ee(_,i),b[3].username!==b[6].profile.username?h?h.p(b,v):(h=Le(b),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i:H,o:H,d(b){b&&p(e),h&&h.d(),o=!1,X(a)}}}function at(s){let e,t;return e=new qe({}),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p:H,i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Le(s){let e,t,l,n,r,c=(s[0].includes(s[6].profile.username)||s[1]===s[6].profile.username)&&!s[0].includes(s[3].username)&&s[1]!=s[3].username,k,i,_,u,o=!s[4]&&Ae(s),a=c&&Me(s);function h(m,d){return d&72&&(i=null),i==null&&(i=!!m[6].blocked.every(m[10])),i?ct:it}let b=h(s,-1),v=b(s);return{c(){e=E("body"),t=E("button"),l=R("Challenge"),n=T(),o&&o.c(),r=T(),a&&a.c(),k=T(),v.c(),this.h()},l(m){e=I(m,"BODY",{class:!0});var d=C(e);t=I(d,"BUTTON",{class:!0});var S=C(t);l=j(S,"Challenge"),S.forEach(p),n=F(d),o&&o.l(d),r=F(d),a&&a.l(d),k=F(d),v.l(d),d.forEach(p),this.h()},h(){O(t,"class","svelte-je56fl"),O(e,"class","svelte-je56fl")},m(m,d){B(m,e,d),f(e,t),f(t,l),f(e,n),o&&o.m(e,null),f(e,r),a&&a.m(e,null),f(e,k),v.m(e,null),_||(u=U(t,"click",s[13]),_=!0)},p(m,d){m[4]?o&&(o.d(1),o=null):o?o.p(m,d):(o=Ae(m),o.c(),o.m(e,r)),d&75&&(c=(m[0].includes(m[6].profile.username)||m[1]===m[6].profile.username)&&!m[0].includes(m[3].username)&&m[1]!=m[3].username),c?a?a.p(m,d):(a=Me(m),a.c(),a.m(e,k)):a&&(a.d(1),a=null),b===(b=h(m,d))&&v?v.p(m,d):(v.d(1),v=b(m),v&&(v.c(),v.m(e,null)))},d(m){m&&p(e),o&&o.d(),a&&a.d(),v.d(),_=!1,u()}}}function Ae(s){let e,t,l,n;return{c(){e=E("button"),t=R("Friend request"),this.h()},l(r){e=I(r,"BUTTON",{class:!0});var c=C(e);t=j(c,"Friend request"),c.forEach(p),this.h()},h(){O(e,"class","svelte-je56fl")},m(r,c){B(r,e,c),f(e,t),l||(n=U(e,"click",s[14]),l=!0)},p:H,d(r){r&&p(e),l=!1,n()}}}function Me(s){let e,t,l,n;return{c(){e=E("button"),t=R("Give admin rights"),this.h()},l(r){e=I(r,"BUTTON",{class:!0});var c=C(e);t=j(c,"Give admin rights"),c.forEach(p),this.h()},h(){O(e,"class","svelte-je56fl")},m(r,c){B(r,e,c),f(e,t),l||(n=U(e,"click",s[15]),l=!0)},p:H,d(r){r&&p(e),l=!1,n()}}}function it(s){let e,t,l,n;return{c(){e=E("button"),t=R("Unblock"),this.h()},l(r){e=I(r,"BUTTON",{class:!0});var c=C(e);t=j(c,"Unblock"),c.forEach(p),this.h()},h(){O(e,"class","svelte-je56fl")},m(r,c){B(r,e,c),f(e,t),l||(n=U(e,"click",s[17]),l=!0)},p:H,d(r){r&&p(e),l=!1,n()}}}function ct(s){let e,t,l,n;return{c(){e=E("button"),t=R("Block"),this.h()},l(r){e=I(r,"BUTTON",{class:!0});var c=C(e);t=j(c,"Block"),c.forEach(p),this.h()},h(){O(e,"class","svelte-je56fl")},m(r,c){B(r,e,c),f(e,t),l||(n=U(e,"click",s[16]),l=!0)},p:H,d(r){r&&p(e),l=!1,n()}}}function ft(s){let e,t,l,n;const r=[at,ot],c=[];function k(i,_){return i[5]?0:1}return e=k(s),t=c[e]=r[e](s),{c(){t.c(),l=ke()},l(i){t.l(i),l=ke()},m(i,_){c[e].m(i,_),B(i,l,_),n=!0},p(i,[_]){let u=e;e=k(i),e===u?c[e].p(i,_):(me(),W(c[u],1,1,()=>{c[u]=null}),de(),t=c[e],t?t.p(i,_):(t=c[e]=r[e](i),t.c()),G(t,1),t.m(l.parentNode,l))},i(i){n||(G(t),n=!0)},o(i){W(t),n=!1},d(i){c[e].d(i),i&&p(l)}}}function ut(s,e,t){let l,n,r;x(s,tt,g=>t(18,l=g)),x(s,we,g=>t(6,n=g)),x(s,Ce,g=>t(7,r=g));let{setShow:c}=e,{username:k}=e,{admins:i}=e,{owner:_}=e,{channelId:u}=e,o,a,h=!0;function b(g){g.target.closest("#chat-modal")||c(!1)}He(async()=>{document.addEventListener("click",b),t(3,o=await Ze(k)),t(4,a=l.findIndex(g=>g.profile.username===o.username)!==-1),t(5,h=!1)}),Ve(()=>{document.removeEventListener("click",b)});const v=g=>o===g;function m(g){K.call(this,s,g)}const d=()=>ze(`/profile/${o.username}`),S=()=>lt(o.username),y=()=>$e(o.username),L=()=>{r.emit("newAdmin",u,o.username)},M=()=>xe(o.username),w=()=>et(o.username);return s.$$set=g=>{"setShow"in g&&t(8,c=g.setShow),"username"in g&&t(9,k=g.username),"admins"in g&&t(0,i=g.admins),"owner"in g&&t(1,_=g.owner),"channelId"in g&&t(2,u=g.channelId)},[i,_,u,o,a,h,n,r,c,k,v,m,d,S,y,L,M,w]}class ht extends ye{constructor(e){super(),Ee(this,e,ut,ft,Ie,{setShow:8,username:9,admins:0,owner:1,channelId:2})}}function Ue(s,e,t){const l=s.slice();return l[46]=e[t],l}function Pe(s,e,t){const l=s.slice();return l[41]=e[t],l}function Te(s,e,t){const l=s.slice();return l[41]=e[t],l}function _t(s){var w;let e,t,l,n,r,c,k,i,_,u,o,a,h,b,v=s[7].owner===((w=s[10].profile)==null?void 0:w.username)&&Fe(s);function m(g,P){return g[6]?pt:kt}let d=m(s),S=d(s);function y(g,P){return g[6]?vt:bt}let L=y(s),M=L(s);return{c(){e=E("article"),t=E("header"),l=E("div"),v&&v.c(),n=T(),r=E("h3"),c=R("Channel "),k=R(s[2]),i=T(),_=E("div"),S.c(),u=T(),o=E("iconify-icon"),a=T(),M.c(),this.h()},l(g){e=I(g,"ARTICLE",{class:!0});var P=C(e);t=I(P,"HEADER",{class:!0});var A=C(t);l=I(A,"DIV",{class:!0});var z=C(l);v&&v.l(z),n=F(z),r=I(z,"H3",{class:!0});var J=C(r);c=j(J,"Channel "),k=j(J,s[2]),J.forEach(p),z.forEach(p),i=F(A),_=I(A,"DIV",{class:!0});var D=C(_);S.l(D),u=F(D),o=I(D,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(o).forEach(p),D.forEach(p),A.forEach(p),a=F(P),M.l(P),P.forEach(p),this.h()},h(){O(r,"class","safe-words svelte-19bvman"),O(l,"class","svelte-19bvman"),q(o,"icon","pepicons-pop:leave"),Y(o,"font-size","1.8rem"),q(o,"class","svelte-19bvman"),O(_,"class","svelte-19bvman"),O(t,"class","svelte-19bvman"),O(e,"class","svelte-19bvman")},m(g,P){B(g,e,P),f(e,t),f(t,l),v&&v.m(l,null),f(l,n),f(l,r),f(r,c),f(r,k),f(t,i),f(t,_),S.m(_,null),f(_,u),f(_,o),f(e,a),M.m(e,null),h||(b=[U(o,"click",s[15]),U(o,"keypress",s[21])],h=!0)},p(g,P){var A;g[7].owner===((A=g[10].profile)==null?void 0:A.username)?v?v.p(g,P):(v=Fe(g),v.c(),v.m(l,n)):v&&(v.d(1),v=null),P[0]&4&&ee(k,g[2]),d===(d=m(g))&&S?S.p(g,P):(S.d(1),S=d(g),S&&(S.c(),S.m(_,u))),L===(L=y(g))&&M?M.p(g,P):(M.d(1),M=L(g),M&&(M.c(),M.m(e,null)))},i:H,o:H,d(g){g&&p(e),v&&v.d(),S.d(),M.d(),h=!1,X(b)}}}function mt(s){let e,t;return e=new Qe({props:{closeModal:s[25],roomId:s[12]}}),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const r={};n[0]&32&&(r.closeModal=l[25]),e.$set(r)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function dt(s){let e,t;return e=new qe({}),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p:H,i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Fe(s){let e,t,l;return{c(){e=E("iconify-icon"),this.h()},l(n){e=I(n,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(e).forEach(p),this.h()},h(){q(e,"icon","material-symbols:settings-outline"),Y(e,"font-size","1.8rem"),q(e,"class","svelte-19bvman")},m(n,r){B(n,e,r),t||(l=[U(e,"click",s[26]),U(e,"keypress",s[24])],t=!0)},p:H,d(n){n&&p(e),t=!1,X(l)}}}function pt(s){let e,t,l;return{c(){e=E("iconify-icon"),this.h()},l(n){e=I(n,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(e).forEach(p),this.h()},h(){q(e,"icon","jam:messages-f"),Y(e,"font-size","1.8rem"),Y(e,"margin-top","0.15rem"),q(e,"class","svelte-19bvman")},m(n,r){B(n,e,r),t||(l=[U(e,"click",s[28]),U(e,"keypress",s[23])],t=!0)},p:H,d(n){n&&p(e),t=!1,X(l)}}}function kt(s){let e,t,l;return{c(){e=E("iconify-icon"),this.h()},l(n){e=I(n,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(e).forEach(p),this.h()},h(){q(e,"icon","mdi:users-group"),Y(e,"font-size","2rem"),q(e,"class","svelte-19bvman")},m(n,r){B(n,e,r),t||(l=[U(e,"click",s[27]),U(e,"keypress",s[22])],t=!0)},p:H,d(n){n&&p(e),t=!1,X(l)}}}function bt(s){var M;let e,t,l,n,r,c,k=((M=s[10].profile)==null?void 0:M.username)+"",i,_,u,o,a,h,b,v,m,d,S,y=s[11][s[12]],L=[];for(let w=0;w<y.length;w+=1)L[w]=Re(Ue(s,y,w));return{c(){e=E("body"),t=E("ul"),l=E("li"),n=E("span"),r=R("System"),c=R(" : Welcome to the channel "),i=R(k),_=R(" !"),u=T();for(let w=0;w<L.length;w+=1)L[w].c();o=T(),a=E("footer"),h=E("div"),b=E("input"),v=T(),m=E("iconify-icon"),this.h()},l(w){e=I(w,"BODY",{style:!0});var g=C(e);t=I(g,"UL",{class:!0});var P=C(t);l=I(P,"LI",{class:!0});var A=C(l);n=I(A,"SPAN",{style:!0});var z=C(n);r=j(z,"System"),z.forEach(p),c=j(A," : Welcome to the channel "),i=j(A,k),_=j(A," !"),A.forEach(p),u=F(P);for(let Q=0;Q<L.length;Q+=1)L[Q].l(P);P.forEach(p),g.forEach(p),o=F(w),a=I(w,"FOOTER",{style:!0,class:!0});var J=C(a);h=I(J,"DIV",{class:!0});var D=C(h);b=I(D,"INPUT",{type:!0,style:!0}),v=F(D),m=I(D,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(m).forEach(p),D.forEach(p),J.forEach(p),this.h()},h(){Y(n,"color","#9F2B68"),O(l,"class","svelte-19bvman"),O(t,"class","svelte-19bvman"),Y(e,"overflow","auto"),O(b,"type","text"),Y(b,"margin","0"),Y(b,"margin-right","1rem"),Y(b,"text-indent","2rem"),q(m,"icon","ic:baseline-send"),Y(m,"font-size","1.5rem"),q(m,"class","svelte-19bvman"),O(h,"class","svelte-19bvman"),Y(a,"margin-top","auto"),O(a,"class","svelte-19bvman")},m(w,g){B(w,e,g),f(e,t),f(t,l),f(l,n),f(n,r),f(l,c),f(l,i),f(l,_),f(t,u);for(let P=0;P<L.length;P+=1)L[P].m(t,null);s[33](e),B(w,o,g),B(w,a,g),f(a,h),f(h,b),pe(b,s[0]),f(h,v),f(h,m),d||(S=[U(b,"input",s[34]),U(b,"keypress",s[35]),U(m,"click",s[14]),U(m,"keypress",s[19])],d=!0)},p(w,g){var P;if(g[0]&1024&&k!==(k=((P=w[10].profile)==null?void 0:P.username)+"")&&ee(i,k),g[0]&15872){y=w[11][w[12]];let A;for(A=0;A<y.length;A+=1){const z=Ue(w,y,A);L[A]?L[A].p(z,g):(L[A]=Re(z),L[A].c(),L[A].m(t,null))}for(;A<L.length;A+=1)L[A].d(1);L.length=y.length}g[0]&1&&b.value!==w[0]&&pe(b,w[0])},d(w){w&&p(e),ge(L,w),s[33](null),w&&p(o),w&&p(a),d=!1,X(S)}}}function vt(s){let e,t,l,n,r,c,k=s[7].owner+"",i,_,u,o,a,h=s[7].admin,b=[];for(let d=0;d<h.length;d+=1)b[d]=je(Te(s,h,d));let v=s[7].member,m=[];for(let d=0;d<v.length;d+=1)m[d]=Be(Pe(s,v,d));return{c(){e=E("body"),t=E("ul"),l=E("li"),n=E("iconify-icon"),r=T(),c=E("span"),i=R(k),_=T();for(let d=0;d<b.length;d+=1)b[d].c();u=T();for(let d=0;d<m.length;d+=1)m[d].c();this.h()},l(d){e=I(d,"BODY",{style:!0});var S=C(e);t=I(S,"UL",{class:!0});var y=C(t);l=I(y,"LI",{class:!0});var L=C(l);n=I(L,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(n).forEach(p),r=F(L),c=I(L,"SPAN",{});var M=C(c);i=j(M,k),M.forEach(p),L.forEach(p),_=F(y);for(let w=0;w<b.length;w+=1)b[w].l(y);u=F(y);for(let w=0;w<m.length;w+=1)m[w].l(y);y.forEach(p),S.forEach(p),this.h()},h(){q(n,"icon","game-icons:throne-king"),Y(n,"font-size","1.5rem"),q(n,"class","svelte-19bvman"),O(l,"class","svelte-19bvman"),O(t,"class","ul-users-list svelte-19bvman"),Y(e,"overflow","auto")},m(d,S){B(d,e,S),f(e,t),f(t,l),f(l,n),f(l,r),f(l,c),f(c,i),f(t,_);for(let y=0;y<b.length;y+=1)b[y].m(t,null);f(t,u);for(let y=0;y<m.length;y+=1)m[y].m(t,null);o||(a=[U(l,"click",be(s[29])),U(l,"keypress",s[18])],o=!0)},p(d,S){if(S[0]&128&&k!==(k=d[7].owner+"")&&ee(i,k),S[0]&8832){h=d[7].admin;let y;for(y=0;y<h.length;y+=1){const L=Te(d,h,y);b[y]?b[y].p(L,S):(b[y]=je(L),b[y].c(),b[y].m(t,u))}for(;y<b.length;y+=1)b[y].d(1);b.length=h.length}if(S[0]&8832){v=d[7].member;let y;for(y=0;y<v.length;y+=1){const L=Pe(d,v,y);m[y]?m[y].p(L,S):(m[y]=Be(L),m[y].c(),m[y].m(t,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=v.length}},d(d){d&&p(e),ge(b,d),ge(m,d),o=!1,X(a)}}}function gt(s){let e,t=s[46].username+"",l;return{c(){e=E("span"),l=R(t),this.h()},l(n){e=I(n,"SPAN",{style:!0});var r=C(e);l=j(r,t),r.forEach(p),this.h()},h(){Y(e,"color","#FEA347"),Y(e,"text-decoration","underline")},m(n,r){B(n,e,r),f(e,l)},p(n,r){r[0]&2048&&t!==(t=n[46].username+"")&&ee(l,t)},d(n){n&&p(e)}}}function yt(s){let e,t=s[46].username+"",l,n,r;function c(){return s[32](s[46])}return{c(){e=E("span"),l=R(t),this.h()},l(k){e=I(k,"SPAN",{style:!0});var i=C(e);l=j(i,t),i.forEach(p),this.h()},h(){Y(e,"color","#FEA347")},m(k,i){B(k,e,i),f(e,l),n||(r=[U(e,"click",be(c)),U(e,"keypress",s[20])],n=!0)},p(k,i){s=k,i[0]&2048&&t!==(t=s[46].username+"")&&ee(l,t)},d(k){k&&p(e),n=!1,X(r)}}}function Re(s){let e,t,l=s[46].message+"",n,r;function c(_,u){var o;return _[46].username!==((o=_[10].profile)==null?void 0:o.username)?yt:gt}let k=c(s),i=k(s);return{c(){e=E("li"),i.c(),t=R(`
						: `),n=R(l),r=T(),this.h()},l(_){e=I(_,"LI",{class:!0});var u=C(e);i.l(u),t=j(u,`
						: `),n=j(u,l),r=F(u),u.forEach(p),this.h()},h(){O(e,"class","svelte-19bvman")},m(_,u){B(_,e,u),i.m(e,null),f(e,t),f(e,n),f(e,r)},p(_,u){k===(k=c(_))&&i?i.p(_,u):(i.d(1),i=k(_),i&&(i.c(),i.m(e,t))),u[0]&2048&&l!==(l=_[46].message+"")&&ee(n,l)},d(_){_&&p(e),i.d()}}}function je(s){let e,t,l,n,r=s[41]+"",c,k,i;function _(){return s[30](s[41])}return{c(){e=E("li"),t=E("iconify-icon"),l=T(),n=E("span"),c=R(r),this.h()},l(u){e=I(u,"LI",{class:!0});var o=C(e);t=I(o,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(t).forEach(p),l=F(o),n=I(o,"SPAN",{});var a=C(n);c=j(a,r),a.forEach(p),o.forEach(p),this.h()},h(){q(t,"icon","clarity:administrator-solid"),Y(t,"font-size","1.5rem"),q(t,"class","svelte-19bvman"),O(e,"class","svelte-19bvman")},m(u,o){B(u,e,o),f(e,t),f(e,l),f(e,n),f(n,c),k||(i=[U(e,"click",be(_)),U(e,"keypress",s[17])],k=!0)},p(u,o){s=u,o[0]&128&&r!==(r=s[41]+"")&&ee(c,r)},d(u){u&&p(e),k=!1,X(i)}}}function Be(s){let e,t,l,n,r=s[41]+"",c,k,i,_;function u(){return s[31](s[41])}return{c(){e=E("li"),t=E("iconify-icon"),l=T(),n=E("span"),c=R(r),k=T(),this.h()},l(o){e=I(o,"LI",{class:!0});var a=C(e);t=I(a,"ICONIFY-ICON",{icon:!0,style:!0,class:!0}),C(t).forEach(p),l=F(a),n=I(a,"SPAN",{});var h=C(n);c=j(h,r),h.forEach(p),k=F(a),a.forEach(p),this.h()},h(){q(t,"icon","clarity:user-solid"),Y(t,"font-size","1.5rem"),q(t,"class","svelte-19bvman"),O(e,"class","svelte-19bvman")},m(o,a){B(o,e,a),f(e,t),f(e,l),f(e,n),f(n,c),f(e,k),i||(_=[U(e,"click",be(u)),U(e,"keypress",s[16])],i=!0)},p(o,a){s=o,a[0]&128&&r!==(r=s[41]+"")&&ee(c,r)},d(o){o&&p(e),i=!1,X(_)}}}function De(s){let e,t;return e=new rt({props:{closeModal:s[36],channelId:s[12]}}),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const r={};n[0]&8&&(r.closeModal=l[36]),e.$set(r)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ye(s){let e,t;return e=new ht({props:{setShow:s[13],username:s[9],admins:s[7].admin,channelId:s[12],owner:s[7].owner}}),{c(){ne(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,n){oe(e,l,n),t=!0},p(l,n){const r={};n[0]&512&&(r.username=l[9]),n[0]&128&&(r.admins=l[7].admin),n[0]&128&&(r.owner=l[7].owner),e.$set(r)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Et(s){let e,t,l,n,r,c;const k=[dt,mt,_t],i=[];function _(a,h){return a[4]?0:a[5]?1:2}e=_(s),t=i[e]=k[e](s);let u=s[3]&&De(s),o=s[8]&&Ye(s);return{c(){t.c(),l=T(),u&&u.c(),n=T(),o&&o.c(),r=ke()},l(a){t.l(a),l=F(a),u&&u.l(a),n=F(a),o&&o.l(a),r=ke()},m(a,h){i[e].m(a,h),B(a,l,h),u&&u.m(a,h),B(a,n,h),o&&o.m(a,h),B(a,r,h),c=!0},p(a,h){let b=e;e=_(a),e===b?i[e].p(a,h):(me(),W(i[b],1,1,()=>{i[b]=null}),de(),t=i[e],t?t.p(a,h):(t=i[e]=k[e](a),t.c()),G(t,1),t.m(l.parentNode,l)),a[3]?u?(u.p(a,h),h[0]&8&&G(u,1)):(u=De(a),u.c(),G(u,1),u.m(n.parentNode,n)):u&&(me(),W(u,1,1,()=>{u=null}),de()),a[8]?o?(o.p(a,h),h[0]&256&&G(o,1)):(o=Ye(a),o.c(),G(o,1),o.m(r.parentNode,r)):o&&(me(),W(o,1,1,()=>{o=null}),de())},i(a){c||(G(t),G(u),G(o),c=!0)},o(a){W(t),W(u),W(o),c=!1},d(a){i[e].d(a),a&&p(l),u&&u.d(a),a&&p(n),o&&o.d(a),a&&p(r)}}}function It(s,e,t){let l,n,r,c;x(s,we,N=>t(10,l=N)),x(s,Ce,N=>t(38,n=N)),x(s,Se,N=>t(11,r=N)),x(s,Ke,N=>t(39,c=N));let k="",i;const _=c.url.href.split("/").pop();let u,o=!1,a=!0,h=!0,b=!1,v;r[_]||We(Se,r[_]=[],r);let m=!1;const d=N=>t(8,m=N);let S="";n.emit("verifyUser",_,N=>{N.isConnected?t(5,h=!1):t(5,h=!0),t(2,u=N.roomName),N.isAdmin,t(4,a=!1),t(7,v=N.connectedUser)}),Je(()=>{b||r[_]&&i&&y(i)});const y=async N=>{N.scroll({top:N.scrollHeight,behavior:"smooth"})};function L(){k&&(n.emit("newMessage",_,k),t(0,k=""))}n.on("updateConnectedUsers",N=>{t(7,v=N),t(7,v)});function M(){n.emit("leaveRoom",_,l.id),ze("/channels")}function w(N){K.call(this,s,N)}function g(N){K.call(this,s,N)}function P(N){K.call(this,s,N)}function A(N){K.call(this,s,N)}function z(N){K.call(this,s,N)}function J(N){K.call(this,s,N)}function D(N){K.call(this,s,N)}function Q(N){K.call(this,s,N)}function se(N){K.call(this,s,N)}const ie=()=>t(5,h=!1),Z=()=>{t(3,o=!0)},$=()=>t(6,b=!0),V=()=>t(6,b=!1),ce=()=>{t(9,S=v.owner),d(!0)},fe=N=>{t(9,S=N),d(!0)},ue=N=>{t(9,S=N),d(!0)},he=N=>{t(9,S=N.username),d(!0)};function le(N){Xe[N?"unshift":"push"](()=>{i=N,t(1,i)})}function _e(){k=this.value,t(0,k)}return[k,i,u,o,a,h,b,v,m,S,l,r,_,d,L,M,w,g,P,A,z,J,D,Q,se,ie,Z,$,V,ce,fe,ue,he,le,_e,N=>{N.key==="Enter"&&L()},()=>{t(3,o=!1)}]}class Ft extends ye{constructor(e){super(),Ee(this,e,It,Et,Ie,{},null,[-1,-1])}}export{Ft as default};
