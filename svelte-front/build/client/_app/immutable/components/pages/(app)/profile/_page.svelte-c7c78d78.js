import{S as Me,i as He,s as Re,k as a,a as k,q as T,l as r,m as n,c as A,r as S,h as s,R as ke,n as C,p as v,b as $,E as t,u as Z,C as pe,T as Ve,I as Fe,o as Ye,D as fe,G as ze}from"../../../../chunks/index-5fac9acd.js";import{u as Le}from"../../../../chunks/user-a16d19da.js";import{p as qe}from"../../../../chunks/index-f3f072ee.js";function Ae(i,e,l){const o=i.slice();return o[4]=e[l],o}function Be(i){let e;return{c(){e=a("iconify-icon"),this.h()},l(l){e=r(l,"ICONIFY-ICON",{icon:!0,style:!0}),n(e).forEach(s),this.h()},h(){fe(e,"icon","ic:round-minus"),v(e,"color","var(--color)"),v(e,"font-size","1.5rem"),v(e,"margin-left","0.3rem")},m(l,o){$(l,e,o)},d(l){l&&s(e)}}}function Ge(i){let e;return{c(){e=a("iconify-icon"),this.h()},l(l){e=r(l,"ICONIFY-ICON",{icon:!0,style:!0}),n(e).forEach(s),this.h()},h(){fe(e,"icon","ic:round-close"),v(e,"color","var(--del-color)"),v(e,"font-size","1.5rem"),v(e,"margin-left","0.3rem")},m(l,o){$(l,e,o)},d(l){l&&s(e)}}}function Ue(i){let e;return{c(){e=a("iconify-icon"),this.h()},l(l){e=r(l,"ICONIFY-ICON",{icon:!0,style:!0}),n(e).forEach(s),this.h()},h(){fe(e,"icon","material-symbols:check-small-rounded"),v(e,"color","var(--ins-color)"),v(e,"font-size","2rem")},m(l,o){$(l,e,o)},d(l){l&&s(e)}}}function Ce(i){let e,l,o,m=i[4].opponentProfile.username+"",I,d,f,p,R,q=i[4].userScore+"",N,V,M,F=i[4].opponentScore+"",U,Y,x,B,D,H=new Date(i[4].createdAt).toDateString()+"",G,j,O=new Date(new Date(i[4].createdAt).getTime()+72e5).toLocaleTimeString("fr-MC")+"",E,z;function te(h,u){return h[4].result=="won"?Ue:h[4].result=="lost"?Ge:Be}let J=te(i),y=J(i);return{c(){e=a("tr"),l=a("td"),o=a("span"),I=T(m),d=k(),f=a("td"),p=a("div"),R=a("span"),N=T(q),V=k(),M=a("span"),U=T(F),Y=k(),y.c(),x=k(),B=a("td"),D=a("span"),G=T(H),j=k(),E=T(O),z=k(),this.h()},l(h){e=r(h,"TR",{});var u=n(e);l=r(u,"TD",{class:!0});var P=n(l);o=r(P,"SPAN",{});var K=n(o);I=S(K,m),K.forEach(s),P.forEach(s),d=A(u),f=r(u,"TD",{class:!0});var Q=n(f);p=r(Q,"DIV",{style:!0});var W=n(p);R=r(W,"SPAN",{});var X=n(R);N=S(X,q),X.forEach(s),V=A(W),M=r(W,"SPAN",{});var le=n(M);U=S(le,F),le.forEach(s),W.forEach(s),Y=A(Q),y.l(Q),Q.forEach(s),x=A(u),B=r(u,"TD",{});var se=n(B);D=r(se,"SPAN",{style:!0});var L=n(D);G=S(L,H),j=A(L),E=S(L,O),L.forEach(s),se.forEach(s),z=A(u),u.forEach(s),this.h()},h(){C(l,"class","opponent-cell"),v(p,"display","flex"),v(p,"flex-direction","column"),v(p,"min-width","1.5em"),C(f,"class","result-cell svelte-1yhyupc"),v(D,"white-space","nowrap")},m(h,u){$(h,e,u),t(e,l),t(l,o),t(o,I),t(e,d),t(e,f),t(f,p),t(p,R),t(R,N),t(p,V),t(p,M),t(M,U),t(f,Y),y.m(f,null),t(e,x),t(e,B),t(B,D),t(D,G),t(D,j),t(D,E),t(e,z)},p(h,u){u&2&&m!==(m=h[4].opponentProfile.username+"")&&Z(I,m),u&2&&q!==(q=h[4].userScore+"")&&Z(N,q),u&2&&F!==(F=h[4].opponentScore+"")&&Z(U,F),J!==(J=te(h))&&(y.d(1),y=J(h),y&&(y.c(),y.m(f,null))),u&2&&H!==(H=new Date(h[4].createdAt).toDateString()+"")&&Z(G,H),u&2&&O!==(O=new Date(new Date(h[4].createdAt).getTime()+72e5).toLocaleTimeString("fr-MC")+"")&&Z(E,O)},d(h){h&&s(e),y.d()}}}function Oe(i){let e,l,o,m,I;return{c(){e=a("div"),l=a("button"),o=a("iconify-icon"),this.h()},l(d){e=r(d,"DIV",{style:!0});var f=n(e);l=r(f,"BUTTON",{class:!0});var p=n(l);o=r(p,"ICONIFY-ICON",{icon:!0,style:!0}),n(o).forEach(s),p.forEach(s),f.forEach(s),this.h()},h(){fe(o,"icon","ic:round-plus"),v(o,"font-size","1rem"),C(l,"class","secondary load-more-button svelte-1yhyupc"),v(e,"display","flex"),v(e,"justify-content","center")},m(d,f){$(d,e,f),t(e,l),t(l,o),m||(I=ze(l,"click",i[3]),m=!0)},p:pe,d(d){d&&s(e),m=!1,I()}}}function je(i){let e,l,o,m,I,d,f,p=i[2].profile.username+"",R,q,N,V,M=i[2].profile.wins+"",F,U,Y,x,B,D,H=i[2].profile.losses+"",G,j,O,E,z,te,J,y,h,u,P,K,Q,W,X,le,se,L,he,ue,oe,de,ae=i[1],b=[];for(let c=0;c<ae.length;c+=1)b[c]=Ce(Ae(i,ae,c));let g=i[0]===i[1].length&&Oe(i);return{c(){e=a("section"),l=a("div"),o=a("img"),I=k(),d=a("div"),f=a("span"),R=T(p),q=k(),N=a("div"),V=a("span"),F=T(M),U=T(`
				/
				`),Y=a("span"),x=T("0"),B=T(`
				/
				`),D=a("span"),G=T(H),j=k(),O=a("section"),E=a("div"),z=a("h3"),te=T("Match history"),J=k(),y=a("figure"),h=a("table"),u=a("thead"),P=a("tr"),K=a("th"),Q=T("Opponent"),W=k(),X=a("th"),le=T("Result"),se=k(),L=a("th"),he=T("Date"),ue=k(),oe=a("tbody");for(let c=0;c<b.length;c+=1)b[c].c();de=k(),g&&g.c(),this.h()},l(c){e=r(c,"SECTION",{});var w=n(e);l=r(w,"DIV",{class:!0});var _=n(l);o=r(_,"IMG",{src:!0,alt:!0,class:!0}),I=A(_),d=r(_,"DIV",{class:!0});var ee=n(d);f=r(ee,"SPAN",{});var ve=n(f);R=S(ve,p),ve.forEach(s),q=A(ee),N=r(ee,"DIV",{});var re=n(N);V=r(re,"SPAN",{style:!0});var me=n(V);F=S(me,M),me.forEach(s),U=S(re,`
				/
				`),Y=r(re,"SPAN",{style:!0});var ye=n(Y);x=S(ye,"0"),ye.forEach(s),B=S(re,`
				/
				`),D=r(re,"SPAN",{style:!0});var Ee=n(D);G=S(Ee,H),Ee.forEach(s),re.forEach(s),ee.forEach(s),_.forEach(s),w.forEach(s),j=A(c),O=r(c,"SECTION",{});var be=n(O);E=r(be,"DIV",{class:!0});var ne=n(E);z=r(ne,"H3",{class:!0});var ge=n(z);te=S(ge,"Match history"),ge.forEach(s),J=A(ne),y=r(ne,"FIGURE",{style:!0,class:!0});var Ie=n(y);h=r(Ie,"TABLE",{});var ie=n(h);u=r(ie,"THEAD",{class:!0});var De=n(u);P=r(De,"TR",{});var ce=n(P);K=r(ce,"TH",{});var Te=n(K);Q=S(Te,"Opponent"),Te.forEach(s),W=A(ce),X=r(ce,"TH",{});var Se=n(X);le=S(Se,"Result"),Se.forEach(s),se=A(ce),L=r(ce,"TH",{});var Ne=n(L);he=S(Ne,"Date"),Ne.forEach(s),ce.forEach(s),De.forEach(s),ue=A(ie),oe=r(ie,"TBODY",{});var we=n(oe);for(let _e=0;_e<b.length;_e+=1)b[_e].l(we);we.forEach(s),ie.forEach(s),Ie.forEach(s),de=A(ne),g&&g.l(ne),ne.forEach(s),be.forEach(s),this.h()},h(){ke(o.src,m=i[2].profile.avatar.url)||C(o,"src",m),C(o,"alt","profile"),C(o,"class","svelte-1yhyupc"),v(V,"color","var(--ins-color)"),v(Y,"color","var(--color)"),v(D,"color","var(--del-color)"),C(d,"class","user-stats svelte-1yhyupc"),C(l,"class","user svelte-1yhyupc"),C(z,"class","svelte-1yhyupc"),C(u,"class","svelte-1yhyupc"),v(y,"overflow","hidden"),C(y,"class","svelte-1yhyupc"),C(E,"class","table-match-history bg-light-dark svelte-1yhyupc")},m(c,w){$(c,e,w),t(e,l),t(l,o),t(l,I),t(l,d),t(d,f),t(f,R),t(d,q),t(d,N),t(N,V),t(V,F),t(N,U),t(N,Y),t(Y,x),t(N,B),t(N,D),t(D,G),$(c,j,w),$(c,O,w),t(O,E),t(E,z),t(z,te),t(E,J),t(E,y),t(y,h),t(h,u),t(u,P),t(P,K),t(K,Q),t(P,W),t(P,X),t(X,le),t(P,se),t(P,L),t(L,he),t(h,ue),t(h,oe);for(let _=0;_<b.length;_+=1)b[_].m(oe,null);t(E,de),g&&g.m(E,null)},p(c,[w]){if(w&4&&!ke(o.src,m=c[2].profile.avatar.url)&&C(o,"src",m),w&4&&p!==(p=c[2].profile.username+"")&&Z(R,p),w&4&&M!==(M=c[2].profile.wins+"")&&Z(F,M),w&4&&H!==(H=c[2].profile.losses+"")&&Z(G,H),w&2){ae=c[1];let _;for(_=0;_<ae.length;_+=1){const ee=Ae(c,ae,_);b[_]?b[_].p(ee,w):(b[_]=Ce(ee),b[_].c(),b[_].m(oe,null))}for(;_<b.length;_+=1)b[_].d(1);b.length=ae.length}c[0]===c[1].length?g?g.p(c,w):(g=Oe(c),g.c(),g.m(E,null)):g&&(g.d(1),g=null)},i:pe,o:pe,d(c){c&&s(e),c&&s(j),c&&s(O),Ve(b,c),g&&g.d()}}}let Pe=5;function Je(i,e,l){let o;Fe(i,Le,f=>l(2,o=f));let m=0,I=[];async function d(){try{const f=await qe(o.profile.username,m,Pe);l(1,I=[...I,...f]),l(0,m+=Pe)}catch(f){console.log(f)}}return Ye(async()=>{await d()}),[m,I,o,d]}class Xe extends Me{constructor(e){super(),He(this,e,Je,je,Re,{})}}export{Xe as default};
