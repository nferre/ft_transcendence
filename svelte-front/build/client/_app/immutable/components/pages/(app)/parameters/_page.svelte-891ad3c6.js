import{S as Me,i as De,s as Fe,k as u,q as M,a as w,l as f,m as _,r as D,h as n,c as T,p as J,n as i,b as V,E as a,F as ie,G as H,X as Re,C as Te,T as He,H as Pe,I as Ce,R as Ie,D as ze,u as me,f as ce,t as pe,d as Ve,o as je,x as Ge,y as Ye,z as Xe,A as Je,g as Ke}from"../../../../chunks/index-5fac9acd.js";import{u as Se}from"../../../../chunks/user-a16d19da.js";import{g as Qe}from"../../../../chunks/navigation-ac3df971.js";import{b as We,u as Ze,k as $e,m as xe,o as et,t as tt,g as lt}from"../../../../chunks/index-f3f072ee.js";function Ne(r,e,t){const l=r.slice();return l[6]=e[t],l}function qe(r){let e,t,l,s,m,E,y=r[6].username+"",k,h,F,b,I,N,U,B,C;function G(){return r[3](r[6])}return{c(){e=u("li"),t=u("a"),l=u("img"),m=w(),E=u("span"),k=M(y),F=w(),b=u("div"),I=u("button"),N=u("iconify-icon"),U=w(),this.h()},l(g){e=f(g,"LI",{class:!0});var o=_(e);t=f(o,"A",{href:!0,style:!0,class:!0});var v=_(t);l=f(v,"IMG",{src:!0,alt:!0,class:!0}),m=T(v),E=f(v,"SPAN",{});var q=_(E);k=D(q,y),q.forEach(n),v.forEach(n),F=T(o),b=f(o,"DIV",{class:!0});var d=_(b);I=f(d,"BUTTON",{style:!0,class:!0});var z=_(I);N=f(z,"ICONIFY-ICON",{icon:!0,style:!0}),_(N).forEach(n),z.forEach(n),d.forEach(n),U=T(o),o.forEach(n),this.h()},h(){Ie(l.src,s=r[6].avatar.url)||i(l,"src",s),i(l,"alt","friend-request-creator"),i(l,"class","svelte-k6rqkv"),i(t,"href",h=`/profile/${r[6].username}`),J(t,"margin-right","0.5rem"),i(t,"class","svelte-k6rqkv"),ze(N,"icon","charm:cross"),J(N,"font-size","1.5rem"),J(I,"background-color","var(--del-color)"),i(I,"class","svelte-k6rqkv"),i(b,"class","friend-request-buttons svelte-k6rqkv"),i(e,"class","svelte-k6rqkv")},m(g,o){V(g,e,o),a(e,t),a(t,l),a(t,m),a(t,E),a(E,k),a(e,F),a(e,b),a(b,I),a(I,N),a(e,U),B||(C=H(I,"click",G),B=!0)},p(g,o){r=g,o&4&&!Ie(l.src,s=r[6].avatar.url)&&i(l,"src",s),o&4&&y!==(y=r[6].username+"")&&me(k,y),o&4&&h!==(h=`/profile/${r[6].username}`)&&i(t,"href",h)},d(g){g&&n(e),B=!1,C()}}}function at(r){let e,t,l,s,m,E,y,k,h,F,b,I,N,U,B,C,G,g=r[2].blocked,o=[];for(let v=0;v<g.length;v+=1)o[v]=qe(Ne(r,g,v));return{c(){e=u("dialog"),t=u("article"),l=u("header"),s=u("h1"),m=M("Block list"),E=w(),y=u("section"),k=u("div"),h=u("ul");for(let v=0;v<o.length;v+=1)o[v].c();F=w(),b=u("input"),I=w(),N=u("footer"),U=u("a"),B=M("Exit"),this.h()},l(v){e=f(v,"DIALOG",{});var q=_(e);t=f(q,"ARTICLE",{});var d=_(t);l=f(d,"HEADER",{style:!0});var z=_(l);s=f(z,"H1",{style:!0});var K=_(s);m=D(K,"Block list"),K.forEach(n),z.forEach(n),E=T(d),y=f(d,"SECTION",{});var S=_(y);k=f(S,"DIV",{class:!0});var P=_(k);h=f(P,"UL",{class:!0});var Z=_(h);for(let W=0;W<o.length;W+=1)o[W].l(Z);Z.forEach(n),P.forEach(n),S.forEach(n),F=T(d),b=f(d,"INPUT",{type:!0,placeholder:!0}),I=T(d),N=f(d,"FOOTER",{});var Q=_(N);U=f(Q,"A",{href:!0,role:!0,class:!0,id:!0});var R=_(U);B=D(R,"Exit"),R.forEach(n),Q.forEach(n),d.forEach(n),q.forEach(n),this.h()},h(){J(s,"margin","0"),J(l,"display","flex"),J(l,"justify-content","center"),i(h,"class","svelte-k6rqkv"),i(k,"class","list-container bg-light-dark"),i(b,"type","text"),i(b,"placeholder","Enter User to Block"),i(U,"href"," "),i(U,"role","button"),i(U,"class","secondary"),i(U,"id","move"),e.open=!0},m(v,q){V(v,e,q),a(e,t),a(t,l),a(l,s),a(s,m),a(t,E),a(t,y),a(y,k),a(k,h);for(let d=0;d<o.length;d+=1)o[d].m(h,null);a(t,F),a(t,b),ie(b,r[1]),a(t,I),a(t,N),a(N,U),a(U,B),C||(G=[H(b,"input",r[4]),H(b,"keypress",r[5]),H(U,"click",function(){Re(r[0])&&r[0].apply(this,arguments)})],C=!0)},p(v,[q]){if(r=v,q&4){g=r[2].blocked;let d;for(d=0;d<g.length;d+=1){const z=Ne(r,g,d);o[d]?o[d].p(z,q):(o[d]=qe(z),o[d].c(),o[d].m(h,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=g.length}q&2&&b.value!==r[1]&&ie(b,r[1])},i:Te,o:Te,d(v){v&&n(e),He(o,v),C=!1,Pe(G)}}}function rt(r,e,t){let l;Ce(r,Se,h=>t(2,l=h));let{closeModal:s}=e,m;We(),console.log(l.blocked);const E=h=>Ze(h.username);function y(){m=this.value,t(1,m)}const k=h=>{h.key==="Enter"&&($e(m),t(1,m=""))};return r.$$set=h=>{"closeModal"in h&&t(0,s=h.closeModal)},[s,m,l,E,y,k]}class st extends Me{constructor(e){super(),De(this,e,rt,at,Fe,{closeModal:0})}}function Be(r){let e,t;return{c(){e=u("p"),t=M(r[4]),this.h()},l(l){e=f(l,"P",{class:!0});var s=_(e);t=D(s,r[4]),s.forEach(n),this.h()},h(){i(e,"class","error svelte-zq3usg")},m(l,s){V(l,e,s),a(e,t)},p(l,s){s&16&&me(t,l[4])},d(l){l&&n(e)}}}function Le(r){let e,t;return{c(){e=u("span"),t=M(r[5]),this.h()},l(l){e=f(l,"SPAN",{class:!0});var s=_(e);t=D(s,r[5]),s.forEach(n),this.h()},h(){i(e,"class","error svelte-zq3usg")},m(l,s){V(l,e,s),a(e,t)},p(l,s){s&32&&me(t,l[5])},d(l){l&&n(e)}}}function ot(r){let e,t;return{c(){e=u("span"),t=M("Enable two factor authentication")},l(l){e=f(l,"SPAN",{});var s=_(e);t=D(s,"Enable two factor authentication"),s.forEach(n)},m(l,s){V(l,e,s),a(e,t)},d(l){l&&n(e)}}}function nt(r){let e,t;return{c(){e=u("span"),t=M("Disable two factor authentication")},l(l){e=f(l,"SPAN",{});var s=_(e);t=D(s,"Disable two factor authentication"),s.forEach(n)},m(l,s){V(l,e,s),a(e,t)},d(l){l&&n(e)}}}function Oe(r){let e,t;return e=new st({props:{closeModal:r[14]}}),{c(){Ge(e.$$.fragment)},l(l){Ye(e.$$.fragment,l)},m(l,s){Xe(e,l,s),t=!0},p(l,s){const m={};s&8&&(m.closeModal=l[14]),e.$set(m)},i(l){t||(ce(e.$$.fragment,l),t=!0)},o(l){pe(e.$$.fragment,l),t=!1},d(l){Je(e,l)}}}function ct(r){let e,t,l,s,m,E,y,k,h,F,b,I,N,U,B,C,G,g,o,v,q,d,z,K,S,P,Z,Q,R,W,te,$,Y,x,ue,fe,j,ee,he,le,_e,ve,L=r[4]&&Be(r),O=r[5]&&Le(r);function ke(c,p){return c[2]?nt:ot}let ae=ke(r),X=ae(r),A=r[3]&&Oe(r);return{c(){e=u("section"),t=u("h3"),l=M("Modify your account"),s=w(),m=u("label"),E=M("Username"),y=w(),k=u("div"),h=u("input"),F=w(),b=u("button"),I=M("Update"),N=w(),L&&L.c(),U=w(),B=u("label"),C=M("Avatar"),G=w(),g=u("div"),o=u("input"),v=w(),q=u("button"),d=M("Update"),z=w(),O&&O.c(),K=w(),S=u("label"),P=u("input"),Z=w(),X.c(),Q=w(),R=u("button"),W=M("Block list"),te=w(),A&&A.c(),$=w(),Y=u("div"),x=u("h3"),ue=M("Log in with another account"),fe=w(),j=u("a"),ee=u("iconify-icon"),he=M(`
		Log out`),this.h()},l(c){e=f(c,"SECTION",{});var p=_(e);t=f(p,"H3",{class:!0});var be=_(t);l=D(be,"Modify your account"),be.forEach(n),s=T(p),m=f(p,"LABEL",{for:!0});var ge=_(m);E=D(ge,"Username"),ge.forEach(n),y=T(p),k=f(p,"DIV",{class:!0});var re=_(k);h=f(re,"INPUT",{name:!0}),F=T(re),b=f(re,"BUTTON",{});var Ee=_(b);I=D(Ee,"Update"),Ee.forEach(n),re.forEach(n),N=T(p),L&&L.l(p),U=T(p),B=f(p,"LABEL",{for:!0});var ye=_(B);C=D(ye,"Avatar"),ye.forEach(n),G=T(p),g=f(p,"DIV",{class:!0});var se=_(g);o=f(se,"INPUT",{name:!0,type:!0,accept:!0}),v=T(se),q=f(se,"BUTTON",{});var Ue=_(q);d=D(Ue,"Update"),Ue.forEach(n),se.forEach(n),z=T(p),O&&O.l(p),K=T(p),S=f(p,"LABEL",{for:!0});var oe=_(S);P=f(oe,"INPUT",{type:!0,name:!0,role:!0}),Z=T(oe),X.l(oe),oe.forEach(n),p.forEach(n),Q=T(c),R=f(c,"BUTTON",{style:!0});var Ae=_(R);W=D(Ae,"Block list"),Ae.forEach(n),te=T(c),A&&A.l(c),$=T(c),Y=f(c,"DIV",{class:!0});var ne=_(Y);x=f(ne,"H3",{class:!0});var we=_(x);ue=D(we,"Log in with another account"),we.forEach(n),fe=T(ne),j=f(ne,"A",{href:!0,role:!0,class:!0});var de=_(j);ee=f(de,"ICONIFY-ICON",{icon:!0}),_(ee).forEach(n),he=D(de,`
		Log out`),de.forEach(n),ne.forEach(n),this.h()},h(){i(t,"class","svelte-zq3usg"),i(m,"for","username"),i(h,"name","username"),i(k,"class","input-button-container"),i(B,"for","avatar"),i(o,"name","avatar"),i(o,"type","file"),i(o,"accept","image/png image/jpeg image/jpg"),i(g,"class","input-button-container"),i(P,"type","checkbox"),i(P,"name","isTwoFactorAuthenticationEnabled"),i(P,"role","switch"),i(S,"for","isTwoFactorAuthenticationEnabled"),J(R,"width","40%"),J(R,"margin","0"),i(x,"class","svelte-zq3usg"),ze(ee,"icon","material-symbols:logout"),i(j,"href","/"),i(j,"role","button"),i(j,"class","contrast outline svelte-zq3usg"),i(Y,"class","logout-wrapper svelte-zq3usg")},m(c,p){V(c,e,p),a(e,t),a(t,l),a(e,s),a(e,m),a(m,E),a(e,y),a(e,k),a(k,h),ie(h,r[0]),a(k,F),a(k,b),a(b,I),a(e,N),L&&L.m(e,null),a(e,U),a(e,B),a(B,C),a(e,G),a(e,g),a(g,o),a(g,v),a(g,q),a(q,d),a(e,z),O&&O.m(e,null),a(e,K),a(e,S),a(S,P),P.checked=r[2],a(S,Z),X.m(S,null),V(c,Q,p),V(c,R,p),a(R,W),V(c,te,p),A&&A.m(c,p),V(c,$,p),V(c,Y,p),a(Y,x),a(x,ue),a(Y,fe),a(Y,j),a(j,ee),a(j,he),le=!0,_e||(ve=[H(h,"input",r[10]),H(b,"click",r[6]),H(o,"change",r[11]),H(q,"click",r[7]),H(P,"change",r[12]),H(P,"change",r[8]),H(R,"click",r[13]),H(j,"click",r[9])],_e=!0)},p(c,[p]){p&1&&h.value!==c[0]&&ie(h,c[0]),c[4]?L?L.p(c,p):(L=Be(c),L.c(),L.m(e,U)):L&&(L.d(1),L=null),c[5]?O?O.p(c,p):(O=Le(c),O.c(),O.m(e,K)):O&&(O.d(1),O=null),p&4&&(P.checked=c[2]),ae!==(ae=ke(c))&&(X.d(1),X=ae(c),X&&(X.c(),X.m(S,null))),c[3]?A?(A.p(c,p),p&8&&ce(A,1)):(A=Oe(c),A.c(),ce(A,1),A.m($.parentNode,$)):A&&(Ke(),pe(A,1,1,()=>{A=null}),Ve())},i(c){le||(ce(A),le=!0)},o(c){pe(A),le=!1},d(c){c&&n(e),L&&L.d(),O&&O.d(),X.d(),c&&n(Q),c&&n(R),c&&n(te),A&&A.d(c),c&&n($),c&&n(Y),_e=!1,Pe(ve)}}}function it(r,e,t){let l;Ce(r,Se,o=>t(15,l=o));let s="",m,E,y=!1,k="",h="";async function F(){try{await xe(s),t(4,k="")}catch(o){t(4,k=o.message)}}async function b(){try{const o=new FileReader;o.addEventListener("load",async()=>{const v=o.result;if(typeof v!="string")throw"Error: can't load image";await et(v),t(5,h="")}),m&&m[0]&&o.readAsDataURL(m[0])}catch(o){t(5,h=o.msg)}}async function I(){if(E)Qe("/2fa/activate");else try{await tt()}catch(o){t(2,E=!0),console.log(o)}}async function N(){try{await lt()}catch(o){console.log(o)}}je(()=>{t(0,s=l.profile.username),t(2,E=l.isTwoFactorAuthenticationEnabled)});function U(){s=this.value,t(0,s)}function B(){m=this.files,t(1,m)}function C(){E=this.checked,t(2,E)}return[s,m,E,y,k,h,F,b,I,N,U,B,C,()=>{t(3,y=!0)},()=>{t(3,y=!1)}]}class dt extends Me{constructor(e){super(),De(this,e,it,ct,Fe,{})}}export{dt as default};
