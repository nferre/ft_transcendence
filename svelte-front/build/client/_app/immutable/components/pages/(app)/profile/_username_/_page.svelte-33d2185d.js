import{S as Fe,i as Ye,s as ze,k as o,a as A,q as N,l as r,m as c,c as C,r as w,h as s,R as Oe,n as P,p as v,b as ee,E as t,u as x,C as Ee,T as Le,I as Pe,o as qe,D as _e,G as Be}from"../../../../../chunks/index-5fac9acd.js";import{u as Ge}from"../../../../../chunks/user-a16d19da.js";import{c as Ue,p as je}from"../../../../../chunks/index-f3f072ee.js";import{p as Je}from"../../../../../chunks/stores-66d2d431.js";function Me(i,e,l){const n=i.slice();return n[7]=e[l],n}function Ke(i){let e;return{c(){e=o("iconify-icon"),this.h()},l(l){e=r(l,"ICONIFY-ICON",{icon:!0,style:!0}),c(e).forEach(s),this.h()},h(){_e(e,"icon","ic:round-minus"),v(e,"color","var(--color)"),v(e,"font-size","1.5rem"),v(e,"margin-left","0.3rem")},m(l,n){ee(l,e,n)},d(l){l&&s(e)}}}function Qe(i){let e;return{c(){e=o("iconify-icon"),this.h()},l(l){e=r(l,"ICONIFY-ICON",{icon:!0,style:!0}),c(e).forEach(s),this.h()},h(){_e(e,"icon","ic:round-close"),v(e,"color","var(--del-color)"),v(e,"font-size","1.5rem"),v(e,"margin-left","0.3rem")},m(l,n){ee(l,e,n)},d(l){l&&s(e)}}}function We(i){let e;return{c(){e=o("iconify-icon"),this.h()},l(l){e=r(l,"ICONIFY-ICON",{icon:!0,style:!0}),c(e).forEach(s),this.h()},h(){_e(e,"icon","material-symbols:check-small-rounded"),v(e,"color","var(--ins-color)"),v(e,"font-size","2rem")},m(l,n){ee(l,e,n)},d(l){l&&s(e)}}}function He(i){let e,l,n,m=i[7].opponentProfile.username+"",D,u,d,_,O,p=i[7].userScore+"",k,Y,R,z=i[7].opponentScore+"",J,L,te,G,T,V=new Date(i[7].createdAt).toDateString()+"",U,K,M=new Date(new Date(i[7].createdAt).getTime()+72e5).toLocaleTimeString("fr-MC")+"",g,q;function se(f,h){return f[7].result=="won"?We:f[7].result=="lost"?Qe:Ke}let Q=se(i),y=Q(i);return{c(){e=o("tr"),l=o("td"),n=o("span"),D=N(m),u=A(),d=o("td"),_=o("div"),O=o("span"),k=N(p),Y=A(),R=o("span"),J=N(z),L=A(),y.c(),te=A(),G=o("td"),T=o("span"),U=N(V),K=A(),g=N(M),q=A(),this.h()},l(f){e=r(f,"TR",{});var h=c(e);l=r(h,"TD",{class:!0});var H=c(l);n=r(H,"SPAN",{});var W=c(n);D=w(W,m),W.forEach(s),H.forEach(s),u=C(h),d=r(h,"TD",{class:!0});var X=c(d);_=r(X,"DIV",{style:!0});var Z=c(_);O=r(Z,"SPAN",{});var $=c(O);k=w($,p),$.forEach(s),Y=C(Z),R=r(Z,"SPAN",{});var ae=c(R);J=w(ae,z),ae.forEach(s),Z.forEach(s),L=C(X),y.l(X),X.forEach(s),te=C(h),G=r(h,"TD",{});var oe=c(G);T=r(oe,"SPAN",{style:!0});var B=c(T);U=w(B,V),K=C(B),g=w(B,M),B.forEach(s),oe.forEach(s),q=C(h),h.forEach(s),this.h()},h(){P(l,"class","opponent-cell"),v(_,"display","flex"),v(_,"flex-direction","column"),v(_,"min-width","1.5em"),P(d,"class","result-cell svelte-1yhyupc"),v(T,"white-space","nowrap")},m(f,h){ee(f,e,h),t(e,l),t(l,n),t(n,D),t(e,u),t(e,d),t(d,_),t(_,O),t(O,k),t(_,Y),t(_,R),t(R,J),t(d,L),y.m(d,null),t(e,te),t(e,G),t(G,T),t(T,U),t(T,K),t(T,g),t(e,q)},p(f,h){h&2&&m!==(m=f[7].opponentProfile.username+"")&&x(D,m),h&2&&p!==(p=f[7].userScore+"")&&x(k,p),h&2&&z!==(z=f[7].opponentScore+"")&&x(J,z),Q!==(Q=se(f))&&(y.d(1),y=Q(f),y&&(y.c(),y.m(d,null))),h&2&&V!==(V=new Date(f[7].createdAt).toDateString()+"")&&x(U,V),h&2&&M!==(M=new Date(new Date(f[7].createdAt).getTime()+72e5).toLocaleTimeString("fr-MC")+"")&&x(g,M)},d(f){f&&s(e),y.d()}}}function Re(i){let e,l,n,m,D;return{c(){e=o("div"),l=o("button"),n=o("iconify-icon"),this.h()},l(u){e=r(u,"DIV",{style:!0});var d=c(e);l=r(d,"BUTTON",{class:!0});var _=c(l);n=r(_,"ICONIFY-ICON",{icon:!0,style:!0}),c(n).forEach(s),_.forEach(s),d.forEach(s),this.h()},h(){_e(n,"icon","ic:round-plus"),v(n,"font-size","1rem"),P(l,"class","secondary load-more-button svelte-1yhyupc"),v(e,"display","flex"),v(e,"justify-content","center")},m(u,d){ee(u,e,d),t(e,l),t(l,n),m||(D=Be(l,"click",i[3]),m=!0)},p:Ee,d(u){u&&s(e),m=!1,D()}}}function Xe(i){var ge,be,Ie;let e,l,n,m,D,u,d,_=((ge=i[2])==null?void 0:ge.username)+"",O,p,k,Y,R=((be=i[2])==null?void 0:be.wins)+"",z,J,L,te,G,T,V=((Ie=i[2])==null?void 0:Ie.losses)+"",U,K,M,g,q,se,Q,y,f,h,H,W,X,Z,$,ae,oe,B,pe,ve,re,me,ne=i[1],b=[];for(let a=0;a<ne.length;a+=1)b[a]=He(Me(i,ne,a));let I=i[0]===i[1].length&&Re(i);return{c(){e=o("section"),l=o("div"),n=o("img"),D=A(),u=o("div"),d=o("span"),O=N(_),p=A(),k=o("div"),Y=o("span"),z=N(R),J=N(`
				/
				`),L=o("span"),te=N("0"),G=N(`
				/
				`),T=o("span"),U=N(V),K=A(),M=o("section"),g=o("div"),q=o("h3"),se=N("Match history"),Q=A(),y=o("figure"),f=o("table"),h=o("thead"),H=o("tr"),W=o("th"),X=N("Opponent"),Z=A(),$=o("th"),ae=N("Result"),oe=A(),B=o("th"),pe=N("Date"),ve=A(),re=o("tbody");for(let a=0;a<b.length;a+=1)b[a].c();me=A(),I&&I.c(),this.h()},l(a){e=r(a,"SECTION",{});var E=c(e);l=r(E,"DIV",{class:!0});var F=c(l);n=r(F,"IMG",{src:!0,alt:!0,class:!0}),D=C(F),u=r(F,"DIV",{class:!0});var le=c(u);d=r(le,"SPAN",{});var fe=c(d);O=w(fe,_),fe.forEach(s),p=C(le),k=r(le,"DIV",{});var j=c(k);Y=r(j,"SPAN",{style:!0});var he=c(Y);z=w(he,R),he.forEach(s),J=w(j,`
				/
				`),L=r(j,"SPAN",{style:!0});var S=c(L);te=w(S,"0"),S.forEach(s),G=w(j,`
				/
				`),T=r(j,"SPAN",{style:!0});var ue=c(T);U=w(ue,V),ue.forEach(s),j.forEach(s),le.forEach(s),F.forEach(s),E.forEach(s),K=C(a),M=r(a,"SECTION",{});var De=c(M);g=r(De,"DIV",{class:!0});var ce=c(g);q=r(ce,"H3",{class:!0});var Te=c(q);se=w(Te,"Match history"),Te.forEach(s),Q=C(ce),y=r(ce,"FIGURE",{style:!0,class:!0});var Se=c(y);f=r(Se,"TABLE",{});var de=c(f);h=r(de,"THEAD",{class:!0});var Ne=c(h);H=r(Ne,"TR",{});var ie=c(H);W=r(ie,"TH",{});var we=c(W);X=w(we,"Opponent"),we.forEach(s),Z=C(ie),$=r(ie,"TH",{});var ke=c($);ae=w(ke,"Result"),ke.forEach(s),oe=C(ie),B=r(ie,"TH",{});var Ae=c(B);pe=w(Ae,"Date"),Ae.forEach(s),ie.forEach(s),Ne.forEach(s),ve=C(de),re=r(de,"TBODY",{});var Ce=c(re);for(let ye=0;ye<b.length;ye+=1)b[ye].l(Ce);Ce.forEach(s),de.forEach(s),Se.forEach(s),me=C(ce),I&&I.l(ce),ce.forEach(s),De.forEach(s),this.h()},h(){var a,E;Oe(n.src,m=(E=(a=i[2])==null?void 0:a.avatar)==null?void 0:E.url)||P(n,"src",m),P(n,"alt","profile"),P(n,"class","svelte-1yhyupc"),v(Y,"color","var(--ins-color)"),v(L,"color","var(--color)"),v(T,"color","var(--del-color)"),P(u,"class","user-stats svelte-1yhyupc"),P(l,"class","user svelte-1yhyupc"),P(q,"class","svelte-1yhyupc"),P(h,"class","svelte-1yhyupc"),v(y,"overflow","hidden"),P(y,"class","svelte-1yhyupc"),P(g,"class","table-match-history bg-light-dark svelte-1yhyupc")},m(a,E){ee(a,e,E),t(e,l),t(l,n),t(l,D),t(l,u),t(u,d),t(d,O),t(u,p),t(u,k),t(k,Y),t(Y,z),t(k,J),t(k,L),t(L,te),t(k,G),t(k,T),t(T,U),ee(a,K,E),ee(a,M,E),t(M,g),t(g,q),t(q,se),t(g,Q),t(g,y),t(y,f),t(f,h),t(h,H),t(H,W),t(W,X),t(H,Z),t(H,$),t($,ae),t(H,oe),t(H,B),t(B,pe),t(f,ve),t(f,re);for(let F=0;F<b.length;F+=1)b[F].m(re,null);t(g,me),I&&I.m(g,null)},p(a,[E]){var F,le,fe,j,he;if(E&4&&!Oe(n.src,m=(le=(F=a[2])==null?void 0:F.avatar)==null?void 0:le.url)&&P(n,"src",m),E&4&&_!==(_=((fe=a[2])==null?void 0:fe.username)+"")&&x(O,_),E&4&&R!==(R=((j=a[2])==null?void 0:j.wins)+"")&&x(z,R),E&4&&V!==(V=((he=a[2])==null?void 0:he.losses)+"")&&x(U,V),E&2){ne=a[1];let S;for(S=0;S<ne.length;S+=1){const ue=Me(a,ne,S);b[S]?b[S].p(ue,E):(b[S]=He(ue),b[S].c(),b[S].m(re,null))}for(;S<b.length;S+=1)b[S].d(1);b.length=ne.length}a[0]===a[1].length?I?I.p(a,E):(I=Re(a),I.c(),I.m(g,null)):I&&(I.d(1),I=null)},i:Ee,o:Ee,d(a){a&&s(e),a&&s(K),a&&s(M),Le(b,a),I&&I.d()}}}let Ve=5;function Ze(i,e,l){let n,m;Pe(i,Ge,p=>l(4,n=p)),Pe(i,Je,p=>l(5,m=p));let D=0,u=[];const d=m.url.pathname.split("/")[2];let _;async function O(){try{const p=await je(n.profile.username,D,Ve);l(1,u=[...u,...p]),l(0,D+=Ve)}catch(p){console.log(p)}}return qe(async()=>{try{l(2,_=await Ue(d)),await O()}catch(p){console.log(p)}}),[D,u,_,O]}class lt extends Fe{constructor(e){super(),Ye(this,e,Ze,Xe,ze,{})}}export{lt as default};
